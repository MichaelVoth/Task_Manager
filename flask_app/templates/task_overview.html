{% extends "base.html" %}
{% block title %} Task Overview {% endblock %}

{% block content %}
<div class="flex">
    <div class="xl_col">
        <h2>All Tasks</h2>
        <table id="task__overview_table">
            <thead>
                <tr>
                    <th>Task</th>
                    <th>Due Date</th>
                    <th>Assignee</th>
                    <th>Complete</th>
                    <th>Completed on</th>
                </tr>
            </thead>
            <tbody>
                {% for a_task in tasks: %}
                <tr>
                    <td><a href="/show/{{a_task.id}}">{{a_task.title}}</a></td>
                    <td>{{a_task.due_date}}</td>
                    {% if a_task.assignee_id %}
                    <td><a href="/user/{{a_task.assignee_id}}">{{a_task.assignee.first_name}}
                            {{a_task.assignee.last_name}}</a></td>
                    {% else %}
                    <td>Unassigned</td>
                    {% endif %}
                    {% if a_task.complete == true %}
                    <td>Yes</td>
                    {% else %}
                    <td>No</td>
                    {% endif %}
                    {% if a_task.completed_on %}
                    <td>{{a_task.completed_on}}</td>
                    {% else %}
                    <td></td>
                    {% endif %}
                </tr>
                {%endfor%}
            </tbody>
        </table>
    </div>
</div>
<script>
    $(document).ready(function () {
        $('#task__overview_table').DataTable();
    });
</script>
{% endblock %}