{% extends "base.html" %}
{% block title %} Edit Task {% endblock %}

{% block content %}
<form action="/update/{{task.id}}" method="POST">

        <label for="title" class="form-label">Title:</label>
        <input type="text" name="title" id="title" class="form-control" value="{{task.title}}">
        <br>
        <label for="due_date" class="form-label">Due Date:</label>
        <input type="date" name="due_date" id="due_date" class="form-control" value="{{task.due_date}}">
        <br>
        <label for="assignee_id" class="form-label">Assign to:</label>
        <select name="assignee_id" id="assignee_id" class="form-select" aria-label="Default select example">
            <option value="">Unassigned</option>
            {% for a_user in user %}
            <option value="{{a_user.id}}" {% if a_user.id==task.assignee_id %} selected {% endif %}>
                {{a_user.first_name}} {{a_user.last_name}}
            </option>
            {% endfor %}
        </select>
        <br>
        <label for="details" class="form-label">Details:</label>
        <br>
        <textarea name="details" id="details" class="form-control">{{task.details}}</textarea>
        <br>
        <button type="submit" class="btn btn-primary">Edit Task</button>
        {% with messages = get_flashed_messages(category_filter=["create"]) %}
        {% if messages %}
        {% for message in messages %}
        <p class="error">{{message}}</p>
        {% endfor %}
        {% endif %}
        {% endwith %}
    </fieldset>
</form>
{% endblock %}